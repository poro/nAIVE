name: "Tier 1 Third-Person Camera Demo"
settings:
  ambient_light: [0.3, 0.35, 0.4]
  gravity: [0, -9.81, 0]

entities:
  # --- Player with third-person camera ---
  - id: player
    tags: [player]
    components:
      transform:
        position: [0, 2, 0]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/blue.yaml
      camera:
        fov: 75
        near: 0.1
        far: 200
        role: main
        mode: third_person
        distance: 6.0
        height_offset: 2.0
        pitch_limits: [-45, 60]
      character_controller:
        move_speed: 5.0
        sprint_multiplier: 2.0
        jump_impulse: 7.0
        step_height: 0.3
        height: 1.8
        radius: 0.3
      health:
        max: 100
      script:
        source: logic/third_person_demo.lua

  # --- Ground plane ---
  - id: floor
    components:
      transform:
        position: [0, -0.5, 0]
        scale: [40, 1, 40]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/default.yaml
      collider:
        shape: box
        half_extents: [20, 0.5, 20]

  # --- Obstacles to demonstrate wall collision ---
  - id: building_01
    components:
      transform:
        position: [6, 2.5, -4]
        scale: [4, 5, 4]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [2, 2.5, 2]

  - id: building_02
    components:
      transform:
        position: [-8, 3.5, 3]
        scale: [5, 7, 3]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [2.5, 3.5, 1.5]

  - id: building_03
    components:
      transform:
        position: [3, 2, 8]
        scale: [3, 4, 6]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [1.5, 2, 3]

  - id: narrow_alley_left
    components:
      transform:
        position: [-3, 2, -10]
        scale: [1, 4, 8]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [0.5, 2, 4]

  - id: narrow_alley_right
    components:
      transform:
        position: [1, 2, -10]
        scale: [1, 4, 8]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [0.5, 2, 4]

  # --- Arch / overhang (camera should pull in when walking under) ---
  - id: overhang
    components:
      transform:
        position: [10, 3, 0]
        scale: [6, 1, 6]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/wood.yaml
      collider:
        shape: box
        half_extents: [3, 0.5, 3]

  - id: overhang_pillar_a
    components:
      transform:
        position: [7.5, 1.25, -2.5]
        scale: [0.5, 2.5, 0.5]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [0.25, 1.25, 0.25]

  - id: overhang_pillar_b
    components:
      transform:
        position: [12.5, 1.25, -2.5]
        scale: [0.5, 2.5, 0.5]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [0.25, 1.25, 0.25]

  - id: overhang_pillar_c
    components:
      transform:
        position: [7.5, 1.25, 2.5]
        scale: [0.5, 2.5, 0.5]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [0.25, 1.25, 0.25]

  - id: overhang_pillar_d
    components:
      transform:
        position: [12.5, 1.25, 2.5]
        scale: [0.5, 2.5, 0.5]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/stone.yaml
      collider:
        shape: box
        half_extents: [0.25, 1.25, 0.25]

  # --- Some enemies to interact with ---
  - id: target_01
    tags: [enemy]
    components:
      transform:
        position: [-5, 1, -5]
        scale: [1, 2, 1]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/enemy.yaml
      health:
        max: 50
      collider:
        shape: box
        half_extents: [0.5, 1, 0.5]
      rigid_body:
        body_type: fixed
      script:
        source: logic/combat_enemy.lua

  - id: target_02
    tags: [enemy]
    components:
      transform:
        position: [12, 1, 8]
        scale: [1, 2, 1]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/enemy.yaml
      health:
        max: 50
      collider:
        shape: box
        half_extents: [0.5, 1, 0.5]
      rigid_body:
        body_type: fixed
      script:
        source: logic/combat_enemy.lua

  # --- Arena boundary ---
  - id: wall_north
    components:
      transform:
        position: [0, 1.5, -20]
        scale: [40, 3, 1]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/default.yaml
      collider:
        shape: box
        half_extents: [20, 1.5, 0.5]

  - id: wall_south
    components:
      transform:
        position: [0, 1.5, 20]
        scale: [40, 3, 1]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/default.yaml
      collider:
        shape: box
        half_extents: [20, 1.5, 0.5]

  - id: wall_east
    components:
      transform:
        position: [20, 1.5, 0]
        scale: [1, 3, 40]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/default.yaml
      collider:
        shape: box
        half_extents: [0.5, 1.5, 20]

  - id: wall_west
    components:
      transform:
        position: [-20, 1.5, 0]
        scale: [1, 3, 40]
      mesh_renderer:
        mesh: assets/meshes/cube.gltf
        material: assets/materials/default.yaml
      collider:
        shape: box
        half_extents: [0.5, 1.5, 20]

  # --- Lighting ---
  - id: sun
    components:
      transform:
        position: [10, 25, -8]
      point_light:
        color: [1.0, 0.95, 0.9]
        intensity: 25.0
        range: 80.0

  - id: fill_light
    components:
      transform:
        position: [-10, 15, 10]
      point_light:
        color: [0.5, 0.6, 0.8]
        intensity: 10.0
        range: 50.0
